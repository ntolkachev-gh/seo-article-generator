# üîß –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ 500 –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏

## üö® –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É 500 (Internal Server Error) –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏, –Ω–æ –ª–æ–≥–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### üìã –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

```bash
python diagnose_services.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø–æ–∫–∞–∂–µ—Ç –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞.

### üîç –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–í–∞—Ä–∏–∞–Ω—Ç 1 - –ß–µ—Ä–µ–∑ uvicorn –Ω–∞–ø—Ä—è–º—É—é:**
```bash
cd backend
uvicorn main:app --host 0.0.0.0 --port 8000 --log-level debug --reload
```

**–í–∞—Ä–∏–∞–Ω—Ç 2 - –ß–µ—Ä–µ–∑ run_backend.py:**
```bash
python run_backend.py
```

**–í–∞—Ä–∏–∞–Ω—Ç 3 - –° –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```bash
export PYTHONPATH=$PWD/backend
export LOG_LEVEL=DEBUG
cd backend && uvicorn main:app --host 0.0.0.0 --port 8000 --log-level debug
```

### üìä –®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ:

```
üöÄ –ù–∞—á–∏–Ω–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—Ç–∞—Ç—å–∏ –¥–ª—è —Ç–µ–º—ã: your-topic
üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞: –º–æ–¥–µ–ª—å=gpt-4o-mini, —Ç–µ–∑–∏—Å=your-thesis
üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏...
‚úÖ –ú–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º...
üîé –≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ SERP...
‚úÖ SERP –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω. –ö–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: 15, –≤–æ–ø—Ä–æ—Å–æ–≤: 5
üìã –≠—Ç–∞–ø 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç–∞—Ç—å–∏...
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞. –¢–æ–∫–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 450
üìù –≠—Ç–∞–ø 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–π —Å—Ç–∞—Ç—å–∏...
‚úÖ –°—Ç–∞—Ç—å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞. –î–ª–∏–Ω–∞: 3500 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–∫–µ–Ω–æ–≤: 1200
üìà –≠—Ç–∞–ø 4: –†–∞—Å—á–µ—Ç SEO-–æ—Ü–µ–Ω–∫–∏...
‚úÖ SEO-–æ—Ü–µ–Ω–∫–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞: 85.5
üíæ –≠—Ç–∞–ø 5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö...
‚úÖ –°—Ç–∞—Ç—å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ë–î —Å ID: 123
üí∞ –≠—Ç–∞–ø 6: –†–∞—Å—á–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è...
üíµ –°—Ç–æ–∏–º–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: $0.002340
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
üéâ –≠—Ç–∞–ø 7: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞...
üéä –£–°–ü–ï–•! –°—Ç–∞—Ç—å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞. ID: 123, –¥–ª–∏–Ω–∞: 3500 —Å–∏–º–≤–æ–ª–æ–≤
```

### ‚ùå –ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É, –æ–Ω–∞ –±—É–¥–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞:

```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: API key is invalid
üìù –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ—à–∏–±–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: [–ø–æ–ª–Ω—ã–π traceback]
```

## üîß –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 500

### 1. üîë –ü—Ä–æ–±–ª–µ–º—ã —Å API –∫–ª—é—á–∞–º–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- `‚ùå –ú–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞` 
- `API key is invalid`
- `‚ùå –ù–∏ –æ–¥–∏–Ω AI —Å–µ—Ä–≤–∏—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $OPENAI_API_KEY
echo $ANTHROPIC_API_KEY

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏
export OPENAI_API_KEY="sk-your-openai-key"
export ANTHROPIC_API_KEY="sk-ant-your-anthropic-key"
```

### 2. üóÑÔ∏è –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏`
- `connection to server failed`
- `database does not exist`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
echo $DATABASE_URL

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
createdb seo_articles

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLite –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
export DATABASE_URL="sqlite:///./test.db"
```

### 3. üåê –ü—Ä–æ–±–ª–µ–º—ã —Å SERP –ø–æ–∏—Å–∫–æ–º

**–°–∏–º–ø—Ç–æ–º—ã:**
- `‚ùå –û—à–∏–±–∫–∞ –≤ SERP –∞–Ω–∞–ª–∏–∑–µ`
- `Google search blocked`
- `Rate limit exceeded`

**–†–µ—à–µ–Ω–∏–µ:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SERP_API_KEY –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API
- Google –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ –ø–∞—É–∑—ã

### 4. ü§ñ –ü—Ä–æ–±–ª–µ–º—ã —Å AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

**–°–∏–º–ø—Ç–æ–º—ã:**
- `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏`
- `Rate limit exceeded`
- `Token limit exceeded`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤–∞—à–µ–≥–æ API –∫–ª—é—á–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω–µ–µ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –º–æ–¥–µ–ª—å (gpt-4o-mini)
- –£–º–µ–Ω—å—à–∏—Ç–µ character_count –≤ –∑–∞–ø—Ä–æ—Å–µ

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
python diagnose_services.py
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
```bash
cd backend && uvicorn main:app --host 0.0.0.0 --port 8000 --log-level debug
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
env | grep -E "(OPENAI|ANTHROPIC|SERP|DATABASE)"
```

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ curl:
```bash
curl -X POST "http://localhost:8000/api/articles/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "topic": "–¢–µ—Å—Ç–æ–≤–∞—è —Ç–µ–º–∞",
    "thesis": "–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∑–∏—Å",
    "model": "gpt-4o-mini",
    "character_count": 1000
  }'
```

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:** `python diagnose_services.py`
2. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –≤ –≤—ã–≤–æ–¥–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º**
4. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é** –∏ –Ω–∞–π–¥–∏—Ç–µ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏
5. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—É** —Å–æ–≥–ª–∞—Å–Ω–æ –ª–æ–≥–∞–º
6. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–µ—Å—Ç**

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ:
1. –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ `python diagnose_services.py`
2. –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ 500
3. –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
4. –í–µ—Ä—Å–∏—é Python –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã: `pip freeze`

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: –° –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—ã —Ç–æ—á–Ω–æ –Ω–∞–π–¥–µ—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–∫–∏ 500! üéØ* 